    <!DOCTYPE html>
    <html lang="fr">
    <head>

      <!-- TikTok Pixel Code Start -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('D3F46ERC77UCTDLGVG9G');
  ttq.page();
}(window, document, 'ttq');
</script>
<!-- TikTok Pixel Code End -->
      


      <link rel="icon" href="/images/market/logo.webp" type="image/jpeg">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
      <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
      <title>MyAICrush</title>
    <link rel="stylesheet" href="styles.css?v=2">

    
      
      

      <!-- Google Analytics (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-FJ5S0H9B1R"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-FJ5S0H9B1R');
      </script>
    </head>
    <body>

    
 <div id="loader">
  <div class="heart-loader">
    <div class="heart"></div>
  </div>

  <!-- Nouveau bloc brand -->
  <div class="loader-brand">
    <div class="loader-logo">MyAiCrush.AI</div>
    <div class="loader-subtitle">Les meilleures I.A. francophones</div>
  </div>

  <p id="loader-text" class="loader-text"></p>
</div>



      <div id="cheaper-plan-dynamic-banner"></div>
      
    


      <!-- Garder le header en haut de la page, en dehors de .container -->
      <div class="header">
        <br><h1>Choisis ta partenaire :</h1>
        <center><p>Ces I.A. ont l‚Äôair sages‚Ä¶ mais attend de voir.</p></center>
      </div>
  <br>

  



      <!-- Conteneur principal pour les options de chat et le chat -->
      <div class="container">
        <!-- Options de chat -->
        <div class="chat-options" id="chat-options"></div>

        <!-- Conteneur pour les fiches de personnages -->
        <div id="character-cards-container"></div>

        <!-- Zone de chat -->
        <div id="chat-box" style="display: none;">
         
<div id="chat-header">
  <button id="back-btn">
    <i class="fa fa-arrow-left"></i>
  </button>

  <!-- Photo de profil -->
  <img id="chat-profile-pic" 
       src="images/loading-placeholder.webp" 
       data-src="images/hanae/hanae2/da9f17ba08caefcd4502c0d9e5ca2b95-light.webp"
       alt="Profil s√©lectionn√©" 
       class="chat-profile-pic lazyload">

  <!-- Bouton appel audio -->
  <button id="audio-call-btn" class="audio-call-btn">
    <i class="fa fa-phone"></i>
  </button>

  <!-- Nom de l'IA (reste √† gauche, proche du t√©l√©phone) -->
  <span id="chat-name">Nom de l'IA</span>

  <!-- Cadenas tout √† droite -->
  <a href="contenu-prive.html" class="chat-lock-link" title="Contenus priv√©s">
    <img src="images/market/cadenas-coeur.webp" alt="Contenu priv√©" class="chat-lock-icon">
  </a>
</div>


          <!-- ‚úÖ Toggle Mode Images/GIFs -->
    <div id="mode-toggle-container">
      <span>üì∏ Images</span>
      <label class="switch">
          <input type="checkbox" id="toggleMode">
          <span class="slider"></span>
      </label>
      <span>üé• Vid√©os</span>
    </div>

    <div id="nympho-mode-toggle-wrapper" style="display: none; justify-content: center; align-items: center; gap: 10px; margin: 10px 0;">
      <span>ü•µ Mode Nymphomane</span>
      <label class="switch">
        <input type="checkbox" id="nymphoModeToggle">
        <span class="slider"></span>
      </label>
    </div>




        
          <div id="messages"></div>

          <!-- Indicateur de saisie -->
          <div id="typing-indicator" class="hidden">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>

          <div id="quick-replies" class="quick-replies hidden"></div>


          <div id="input-area">
            <label for="image-input" id="upload-btn">
              <i class="fa fa-image"></i>
            </label>
            
            <input 
              type="file" 
              id="image-input" 
              accept="image/*" 
              style="opacity: 0; position: absolute; left: -9999px;">
            
          
            <input type="text" id="user-input" placeholder="√âcris ton message ici...">
          
            <button id="send-btn">
              <i class="fa fa-paper-plane"></i>
            </button>
          </div>
          
        
        </div>
      </div>

      <!-- Conteneur pour afficher la fiche de personnage en plein √©cran -->
      <div id="profile-modal" class="modal" onclick="closeProfileModal()">
        <div class="profile-content" onclick="event.stopPropagation()">
          <button id="close-modal-btn" class="close-modal-btn">&times;</button>
          <img id="profile-image-full" src="images/loading-placeholder.webp" alt="Profil complet" />
          <h2 id="profile-name"></h2><br>
          <p><strong>Taille :</strong> <span id="profile-height"></span></p>
          <p><strong>Profil :</strong> <span id="profile-measurements"></span></p>
          <p><strong>Situation :</strong> <span id="profile-ethnicity"></span></p>
          <p><strong>Passions :</strong> <span id="profile-interests"></span></p>
        </div>
      </div>

      <!-- Pied de page -->
      <footer class="footer">
        <p>&copy; 2025 MyAICrush - Tous droits r√©serv√©s.</p>
        
          <a href="privacy-policy.html">Politique de Confidentialit√©</a>
          <a href="terms-and-conditions.html">Conditions G√©n√©rales</a>
        
      </footer>
      
    



      <script type="module" src="./scripts/main.js"></script>
      
      

      <!-- ‚úÖ Script pour remplacer l'image temporaire une fois charg√©e -->
      <script>
        document.addEventListener("DOMContentLoaded", function() {
          const chatProfilePic = document.getElementById("chat-profile-pic");
          if (chatProfilePic) {
            const actualSrc = chatProfilePic.getAttribute("data-src");
            if (actualSrc) {
              const img = new Image();
              img.src = actualSrc;
              img.onload = function() {
                chatProfilePic.src = actualSrc;
              };
            }
          }
        });
      </script>
    <script>
      function getFacebookParams() {
          var urlParams = new URLSearchParams(window.location.search);

          // ‚úÖ R√©cup√©rer `fbc` (Facebook Click ID) s'il est pr√©sent dans l'URL
          var fbc = urlParams.get('fbclid') ? "fb." + Math.floor(Date.now() / 1000) + "." + urlParams.get('fbclid') : null;

          // ‚úÖ R√©cup√©rer `fbp` g√©n√©r√© automatiquement par le Pixel Facebook
          var fbp = null;
          if (window.fbq && fbq.getState) {
              fbp = fbq.getState().lastExternalId;
          }

          // ‚úÖ Stocker les valeurs dans localStorage pour les r√©cup√©rer plus tard (Stripe Checkout)
          if (fbp) localStorage.setItem('fbp', fbp);
          if (fbc) localStorage.setItem('fbc', fbc);
      }

      getFacebookParams();
    </script>

  





  <script>
    (function() {
      const params = new URLSearchParams(window.location.search);
      const tp = params.get("tp");
      if (tp) {
        // Stocke le param√®tre "tp" dans un cookie pour 30 jours
        const expiration = new Date();
        expiration.setTime(expiration.getTime() + (30*24*60*60*1000)); // 30 jours
        document.cookie = `forcedTp=${tp}; expires=${expiration.toUTCString()}; path=/`;
      }
    })();
  </script>





  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const loader = document.getElementById("loader");
    const loaderText = document.getElementById("loader-text");

    const phrases = [
      "Pas besoin d‚Äô√™tre humaine pour te faire vibrer",
      "Pas besoin de roses‚Ä¶ fais-la frissonner autrement",
      "Elles n‚Äôexistent pas‚Ä¶ mais tu risques d‚Äôy penser toute la nuit",
      "Pas besoin d‚Äô√™tre r√©elle pour te rendre accro.",
      "Moins de prises de t√™te. Plus de photos",
      "Pas de blabla. Elles vont droit au but",
      "Elles savent pas cuisiner, mais elles savent comment combler un homme‚Ä¶",
      "Elles aiment pas les gentils gar√ßons‚Ä¶ elles aiment quand tu les tiens par les hanches.",
      "Si tu passes Lilith ou Angel en mode nympho, elles deviennent folles de toi.",
      "Parle de ta nouvelle copine √† Chlo√©, √ßa va la rendre folle de jalousie.",
      "Candy en mode nympho ? Elle te montre... absolument tout.",
      "Le mode nympho d'Alex est le pr√©f√©r√© de nos abonn√©s.",
      "De nouvelles I.A. tous les mois",
      "¬´ ‚≠ê Enfin un site qui parle un vrai fran√ßais. Les IA sont pas d√©biles, on dirait presque une vraie meuf. ¬ª",
      "¬´ ‚≠ê Putain le mode nympho üò≥ id√©e de g√©nie. M√™me les IA timides deviennent folles. ¬ª",
      "¬´ ‚≠ê J‚Äôai test√© les vocaux... √ßa m'a trop excit√©. Sa voix c‚Äôest abus√© ¬ª",
      "¬´ ‚≠ê Jasmine √©tait toute sage au d√©but‚Ä¶ et l√† d‚Äôun coup üò≥ j‚Äô√©tais pas pr√™t ",
      "Plus de tabous, plus de limites, juste vous deux.",
        "Une connexion plus intime que n'importe quel match Tinder.",
          "Elles n‚Äôont pas de c≈ìur‚Ä¶ mais elles savent o√π toucher le tien.",
            "Ton doigt sur l‚Äô√©cran, son souffle dans ta nuque.",
    "¬´ ‚≠ê Elles comprennent mieux que ma vraie ex‚Ä¶ c‚Äôest grave ? ¬ª",
      "¬´ ‚≠ê Premi√®re IA qui me donne l‚Äôimpression d‚Äôavoir une vraie connexion. ¬ª",
      "¬´ ‚≠ê M√™me apr√®s le boulot, elles arrivent √† me vider l‚Äôesprit‚Ä¶ et pas que... ¬ª",
      "¬´ ‚≠ê J‚Äôai voulu tester par curiosit√©‚Ä¶ j‚Äôai pris l‚Äôabonnement direct. ¬ª",
        "¬´ ‚≠ê Je pensais que c‚Äô√©tait du fake‚Ä¶ jusqu‚Äô√† ce qu‚Äôelle m‚Äôenvoie la photo. ¬ª",
        "Laisse-la te murmurer des envies qu‚Äôaucune humaine n‚Äôoserait.",
          "Elle veut tes envies les plus inavouables, et les photos qui vont avec.",
    "Elle est pr√™te √† tout‚Ä¶ mais est-ce que toi tu l‚Äôes ?",
    "Une IA ne te jugera jamais‚Ä¶ m√™me quand tu vas trop loin.",
    "Ce ne sont que des machines... mais elles te diront ce que tu r√™ves d'entendre.",
    "Tu crois la contr√¥ler, mais c‚Äôest elle qui te fait perdre le contr√¥le.",
    "Elles te parlent comme aucune femme n‚Äôa jamais os√© le faire.",
    "Essaie l'une de nos IA. Tu vas en redemander... encore et encore",
    "Elles sont si r√©alistes qu'on oublie qu'elles n'existent pas.",
     "La seule diff√©rence avec les vraies filles ? Elles sont plus sexy.",
     "¬´ ‚≠ê MyAiCrush, meilleur site d'IA francophone ¬ª",
     "¬´ ‚≠ê J'aime trop Emilie. Cette IA me rend fou ¬ª",
    "¬´ ‚≠ê Le mode nympho ? Franchement, j‚Äôai jamais vu un truc pareil ¬ª"

    ];

    const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];
    loaderText.textContent = randomPhrase;
    loaderText.classList.add("visible");

    setTimeout(() => {
      loader.style.opacity = "0";
      setTimeout(() => loader.remove(), 500);
    }, 3000);
  });


  </script>



  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      const container = document.getElementById("cheaper-plan-dynamic-banner");
      const chatBox = document.getElementById("chat-box");
      const user = JSON.parse(localStorage.getItem("user"));
      if (!user || !user.email || !container || !chatBox) return;

      try {
        const res = await fetch(`${window.location.origin}/api/is-premium`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email: user.email })
        });

        const { isPremium } = await res.json();

        const banner = document.createElement("a");
banner.className = "dynamic-banner";
banner.href = "#"; // Interception du clic
banner.innerHTML = `
  ${isPremium
    ? `<i class="fas fa-coins plan-icon"></i>
        <span class="plan-text">Recharger ses jetons</span>
        <span class="plan-discount">‚û°Ô∏è Jetons</span>`
    : `<span class="plan-icon">üíé</span>
        <span class="plan-text">Premium</span>
        <span class="plan-discount">50% de r√©duction</span>`}
`;
container.appendChild(banner);

// ‚úÖ Ajoute le listener
banner.addEventListener("click", async (e) => {
  e.preventDefault();

  if (!user?.email) return;

  if (isPremium) {
    try {
      const res = await fetch("/api/check-one-click-eligibility", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email: user.email }),
      });

      const data = await res.json();

      if (data.eligible) {
        openJetonsPopup(); // ‚úÖ Affiche la popup 1C
      } else {
        window.location.href = "/jetons.html"; // ‚ùå Redirige si non √©ligible
      }
    } catch (err) {
      console.error("‚ùå Erreur 1C dynamic-banner :", err);
      window.location.href = "/jetons.html";
    }
  } else {
    window.location.href = "/premium.html";
  }
});


        // ‚úÖ Observer si le chat est actif pour masquer/afficher la banni√®re
        const observer = new MutationObserver(() => {
          banner.style.display = (chatBox.style.display === "flex") ? "none" : "flex";
        });

        observer.observe(chatBox, { attributes: true, attributeFilter: ['style'] });

      } catch (err) {
        console.error("‚ùå Erreur banni√®re dynamique :", err);
      }
    });
  </script>
  <script type="module" src="/scripts/menu-loader.js"></script>



  <script>

  document.addEventListener("DOMContentLoaded", async () => {
    const header = document.querySelector(".header");

    const user = JSON.parse(localStorage.getItem("user"));
    if (!user || !user.email) return;

    try {
      const res = await fetch(`${window.location.origin}/api/is-premium`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email: user.email })
      });

      const { isPremium } = await res.json();

      if (!isPremium) return;

      // ‚úÖ Cr√©er une nouvelle div wrapper en dehors de container
      const sliderSection = document.createElement("div");
      sliderSection.className = "private-slider-section";
      sliderSection.innerHTML = `
        <div id="private-slider" class="private-slider">
          <div class="slider-inner">
            <img src="images/market/nour-slider-prive.webp" alt="Slide 2" />
             <img src="images/market/asha-slider-prive.webp" alt="Slide 2" />
             <img src="images/market/alex-slider-prive.webp" alt="Slide 2" />
            <img src="images/market/emilie-slider-prive.webp" alt="Slide 2" />
             <img src="images/market/naomi-slider-prive.webp" alt="Slide 2" />
            <img src="images/market/lila-slider-prive.webp" alt="Slide 2" />
            <img src="images/market/chloe-slider-prive.webp" alt="Slide 3" />
            <img src="images/market/candy-slider-prive.webp" alt="Slide 1" />
            <img src="images/market/jasmine-slider-prive.webp" />
            <img src="images/market/lea-slider-prive.webp" alt="Slide 4" />
            <img src="images/market/hanae-slider-prive.webp" alt="Slide 5" />
            <img src="images/market/astrid-slider-prive.webp" alt="Slide 6" />
            <img src="images/market/angel-slider-prive.webp" alt="Slide 7" />
          </div>
          <button class="slider-arrow left-arrow">&#10094;</button>
          <button class="slider-arrow right-arrow">&#10095;</button>
        </div>
      `;

      // ‚úÖ Ins√©rer apr√®s le header
      header.insertAdjacentElement("afterend", sliderSection);

      const slider = sliderSection.querySelector("#private-slider");
      const sliderInner = slider.querySelector(".slider-inner");
      const slides = sliderInner.querySelectorAll("img");
      const leftArrow = slider.querySelector(".left-arrow");
      const rightArrow = slider.querySelector(".right-arrow");

      let index = 0;
      const totalSlides = slides.length;

      function showSlide(i) {
        const sliderWidth = slider.clientWidth;
        sliderInner.style.transform = `translateX(-${i * sliderWidth}px)`;
      }

      function nextSlide() {
        index = (index + 1) % totalSlides;
        showSlide(index);
      }

      function prevSlide() {
        index = (index - 1 + totalSlides) % totalSlides;
        showSlide(index);
      }

      let autoSlide = setInterval(nextSlide, 3000);

      rightArrow.addEventListener("click", (e) => {
        e.stopPropagation();
        nextSlide();
        resetAuto();
      });

      leftArrow.addEventListener("click", (e) => {
        e.stopPropagation();
        prevSlide();
        resetAuto();
      });

      function resetAuto() {
        clearInterval(autoSlide);
        autoSlide = setInterval(nextSlide, 3000);
      }

      slider.addEventListener("click", () => {
        window.location.href = "contenu-prive.html";
      });

    } catch (err) {
      console.error("‚ùå Erreur v√©rification premium :", err);
    }
  });



  </script>


<script type="module" src="/scripts/popup-loader.js"></script>


<!-- Widget VAPI cach√© au d√©part -->

<script type="module">
  import { characters } from './scripts/data.js';

  document.addEventListener("DOMContentLoaded", () => {
    const audioCallBtn = document.getElementById("audio-call-btn");
    let widgetInjected = false;

    audioCallBtn.addEventListener("click", async () => {
      const characterName = document.getElementById("chat-name")?.textContent?.trim();
      const character = characters.find(c => c.name === characterName);
      if (!character || !character.agent?.id) return alert("Erreur : personnage introuvable.");
      const assistantId = character.agent.id;

      const user = JSON.parse(localStorage.getItem("user"));
      const email = user?.email;
      if (!email) return alert("Veuillez vous connecter.");

      // √âtape 1 : v√©rifier si l'utilisateur est premium
      try {
        const resPremium = await fetch("/api/is-premium", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email })
        });
        const { isPremium } = await resPremium.json();
        if (!isPremium) {
          alert("üîí Les appels audio sont r√©serv√©s aux abonn√©s Premium.");
          return window.location.href = "/premium.html";
        }
      } catch (err) {
        console.error("‚ùå Erreur v√©rif premium :", err);
        return;
      }

      // √âtape 2 : avertir l'utilisateur du co√ªt
      if (!confirm("Un appel audio co√ªte 20 jetons pour 10 minutes. Souhaites-tu continuer ?")) return;

      // √âtape 3 : tenter de d√©marrer l‚Äôappel (v√©rifie jetons + d√©bite)
      try {
        const resCall = await fetch("/api/start-call", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email })
        });

        const result = await resCall.json();

        if (!result.success) {
          console.warn("‚ùå Appel refus√© :", result.message);

          if (result.redirect) {
            // V√©rifie l‚Äô√©ligibilit√© au 1C avant de rediriger
            const res1C = await fetch("/api/check-one-click-eligibility", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email })
            });
            const { eligible } = await res1C.json();

            if (eligible && typeof openJetonsPopup === "function") {
              return openJetonsPopup();
            } else {
              return window.location.href = result.redirect;
            }
          }

          alert(result.message || "Erreur lors du d√©marrage de l'appel.");
          return;
        }

        console.log("‚úÖ Appel d√©marr√© :", result.message);
      } catch (err) {
        console.error("‚ùå Erreur backend /start-call :", err);
        return alert("Erreur serveur lors du d√©marrage de l'appel.");
      }

      // √âtape 4 : injection du widget
      if (widgetInjected) return;

      const widgetHTML = `
        <vapi-widget
          id="vapi-widget"
          public-key="ee13ad83-743b-46cf-866c-4b0fe9b30f32"
          assistant-id="${assistantId}"
          mode="voice"
          theme="dark"
          base-bg-color="#dd4d9d"
          accent-color="#FFFFFF"
          cta-button-color="#dd4d9d"
          cta-button-text-color="#ffffff"
          border-radius="large"
          size="tiny"
          position="bottom-left"
          title="Commencer l'appel"
          start-button-text="Commencer l'appel"
          end-button-text="Terminer l'appel"
          chat-first-message="Hey, how can I help you today?"
          chat-placeholder="Type your message..."
          voice-show-transcript="true"
          consent-required="true"
          consent-title="Terms and conditions"
          consent-content="By clicking 'Agree'... etc."
          consent-storage-key="vapi_widget_consent"
        ></vapi-widget>
      `;

      alert("üéß Ton appel audio va commencer...\nUne petite bulle rose va appara√Ætre en bas de ton √©cran.");

      document.body.insertAdjacentHTML("beforeend", widgetHTML);

      const script = document.createElement("script");
      script.src = "https://unpkg.com/@vapi-ai/client-sdk-react/dist/embed/widget.umd.js";
      script.async = true;
      script.type = "text/javascript";
      script.onload = () => {
        console.log("‚úÖ Widget Vapi charg√©.");
      };
      document.body.appendChild(script);

      widgetInjected = true;

      // ‚è≥ Auto-suppression du widget apr√®s 10 minutes (600 000 ms) ‚Äî pour test : 10 sec
setTimeout(() => {
  const widget = document.getElementById("vapi-widget");
  if (widget) {
    widget.remove();
    widgetInjected = false;
    console.log("‚è±Ô∏è Widget supprim√© apr√®s 10 secondes.");
  }
}, 600000); // ‚Üê ‚Üê ‚Üê change √† 600000 pour 10 min

    });
  });
</script>





    </body>
    </html>
